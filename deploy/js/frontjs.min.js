var Front={ref:null,model:{is:function(t,e){var n=Front,r=this;return"string"==typeof t?null!=r.get(t):e?null!=r.context(t):""!=n.attribute(t,"model")},context:function(t){var e=Front,n=this,r=t;for("string"==typeof t&&(r=n.get(t));null!=r;){var l=e.attribute(r,"model");if(""!=l)return r;r=r.parentNode}return null},watch:function(t,e){var n=Front,r=n.find("model",t);null!=r&&(r.watch=null==e?!0:e)},get:function(t){var e=Front;return e.find("model",t)},data:function(t,e){var n=Front,r=this;if(null!=e){var l=r.get(t);if(null==l)return;for(var o in e){var u=n.find("view",o,l);r.value(u,e[o])}return e}var i={};return n.traverse(n.root,function(e){if(null!=e){var l=e.getAttribute("model");null!=l&&l==t&&n.traverse(e,function(t){if(t!=e){var n=t.getAttribute("view");if(null!=n){var l=t.nodeName.toLowerCase();if(null!=l&&"#text"!=l){var o=("input"==l?null==t.type?"":t.type.toLowerCase():"",r.value(t));i[n]=o}}}})}}),i},value:function(t,e){var n=Front,r=t;if("string"==typeof r&&(r=n.view.get(r),null==r))return null;var l=r.nodeName.toLowerCase();if(null==l)return e;if("#text"==l)return e;var o="input"==l?null==r.type?"":r.type.toLowerCase():"";switch(l){case"input":switch(o){case"checkbox":return null==e?r.checked:r.checked=e;default:return null==e?r.value:r.value=e}break;case"select":return null==e?r.selectedIndex:r.selectedIndex=e;case"textarea":return null==e?r.value:r.value=e;default:return null==e?r.textContent:r.textContent=e}return e},onevent:function(t,e){for(var n=Front,r=this,l=e;null!=l;){var o=n.attribute(l,"model");if(""!=o&&null!=o&&null!=l.watch&&l.watch){var u=r.data(o);n.controller.dispatch("model",l,u)}l=l.parentNode}},attribute:function(t){return Front.attribute(t,"model")}},controller:{list:[],add:function(t,e){var n=this,r=t;return n.list.indexOf(r)<0&&n.list.push(r),r.route=null==r.route?null==e?/(.*?)/:e:r.route,null==r.allow&&(r.allow=""),r},remove:function(t){var e=this,n=t,r=e.list.indexOf(n);return r>=0?(e.list.splice(r,1),n):null},exists:function(t){var e=this;return null!=e.find(t)},find:function(t){for(var e=this,n=0;n<e.list.length;n++)if(null!=e.list[n].name&&e.list[n].name==t)return e.list[n];return null},dispatch:function(t,e,n){var r=Front,l=this,o=r.view.path(e,!0);l.notify(o,t,e,n),"input,change,update".indexOf(t)>=0&&r.traverse(r.root,function(t){var e=r.attribute(t,"bind");if(""!=e){var n=e.split("."),l=n.pop(),o=n.join(".");if(r.model.is(o)){var u=r.model.data(o);null!=u[l]&&r.model.value(t,u[l])}}})},notify:function(t,e,n,r){for(var l=this,o=0;o<l.list.length;o++){var u=l.list[o];if(null!=u.on){if(null!=u.allow&&""!=u.allow&&u.allow.indexOf(e)<0)continue;if(""!=t&&!u.route.test(t))continue;u.on(t,e,n,r)}}},request:{service:"",create:function(t,e,n,r,l,o){var u=null==o?"get":o,i=null==l?!1:l,a=Front.controller,f=Front,s={};if(s.path=e,s.event=null==n?"":n,s.data=null==r?{}:r,"get"==u){var v="?notification="+JSON.stringify(s);t+=v}var c=f.request.create(t,function(n,r,l,o){if(r>=0&&1>=r&&a.notify(e+".progress","progress",l,r),0>r&&a.notify(e+".upload","progress",l,1+r),r>=1)if(null==n)a.notify(e+".error","error",l,o);else if(a.notify(e+".complete","complete",l,l.response),!i){var u=JSON.parse(l.response);if(null==u)return void console.error("Controller> Service ["+t+"] returned a wrong notification list.");for(var f=0;f<u.length;f++){var s=u[f];null==s.path?console.error("Controller> Service ["+t+"] returned a wrong notification format."):(s.event=null==s.event?"":s.event,s.data=null==s.data?{}:s.data,a.notify(s.path,s.event,l,s.data))}}},JSON.stringify(s),i,u);return c},get:function(t,e,n,r,l){var o=this;return o.create(t,e,n,r,l,"get")},post:function(t,e,n,r,l){var o=this;return o.create(t,e,n,r,l,"post")},notify:function(t,e,n,r,l){var o=this,u=null==l?"post":l;return o.create(o.service,t,e,n,r,u)}},clear:function(){var t=this;t.list=[]}},view:{is:function(t,e){var n=Front,r=this;return"string"==typeof t?null!=r.get(t):e?null!=r.context(t):""!=n.attribute(t,"view")},context:function(t){for(var e=Front,n=t;null!=n;){var r=e.attribute(n,"view");if(""!=r)return n;n=n.parentNode}return null},path:function(t,e){var n=[],r="",l=null==e?!1:e,o=t;if(r=null!=o.getAttribute?o.getAttribute("view"):"",!l){if(null==r)return"";if(""==r)return""}for(null!=r&&""!=r&&n.push(r),o=o.parentNode;null!=o;)r=null!=o.getAttribute?o.getAttribute("view"):"",null!=r&&""!=r&&n.push(r),o=o.parentNode;return n.reverse(),n.join(".")},get:function(t){if(null==t)return null;var e=Front,n=t.split(".");if(n.length<=0)return null;n.reverse();var r=null;return e.traverse(e.root,function(t){if(n.length<=0)return!1;var l=e.attribute(t,"view");if(""!=l)return l==n[n.length-1]&&n.pop(),n.length<=0?(r=t,!1):void 0}),r},find:function(t,e){var n=null==e?!1:e,r=Front,l=n?[]:null;return r.traverse(r.root,function(e){var o=r.attribute(e,"view");if(""!=o&&o==t){if(!n){if(null==l)return l=e,!1;if(null!=l)return!1}l.push(e)}}),l},clone:function(t){var e=this,n=null;if("string"==typeof t){var r=e.get(t);if(null==r)return null;if(null==r.getAttribute)return null;if(null==r.getAttribute("template"))return null;n=r}else n=t;return n=n.cloneNode(!0),n.removeAttribute("template"),n},parent:function(t){var e=this;if(null==t)return null;if("string"==typeof t){var n=p_path.split(".");n.pop();var r=n.join(".");return e.get(r)}for(var l=t.parentNode;null!=l;){if(Front.view.is(l))return l;l=l.parentNode}return null},attribute:function(t){return Front.attribute(t,"view")}},observer:null,mutations:[],events:["click","input","change"],root:null,enabled:!0,setRoot:function(t){if(null!=ref.root){for(var e=0;e<ref.events.length;e++)ref.listen(ref.events[e],!1);ref.observer.disconnect()}if(ref.root=t,null!=ref.root){for(var e=0;e<ref.events.length;e++)ref.listen(ref.events[e],!0);var n={attributes:!0,childList:!0,characterData:!0,subtree:!0};ref.observer.observe(ref.root,n);var r=document.styleSheets[0];r.insertRule("*[template] { display: none; }",1)}},listen:function(t,e){if(null!=ref.root){var n=ref.root,r=e?n.addEventListener:n.removeEventListener,l="focus,blur".indexOf(t)>=0&&e;l&&r(t,ref.onevent,!0),r(t,ref.onevent)}},onevent:function(t){if(ref.enabled){var e=t.target,n=t.type;switch(n){case"change":case"input":ref.model.onevent(n,e)}ref.controller.dispatch(n,e)}},initialize:function(t,e){ref=this,ref.events=null==e?ref.events:e,ref.root=t,null==MutationObserver?console.warn("FrontJS> MutationObserver class not found."):ref.observer=new MutationObserver(ref.onmutation),null==ref.root&&(null==document.body?window.addEventListener("load",ref.onload):ref.root=document.body),null!=ref.root&&(console.log("FrontJS> Initialize ["+ref.root+"]"),ref.setRoot(ref.root))},onload:function(){window.removeEventListener("load",ref.onload),null==ref.root&&(ref.root=document.body,console.log("FrontJS> Initialize ["+ref.root+"]"),ref.setRoot(ref.root))},attribute:function(t,e){if(null==t)return"";if(null==t.getAttribute)return"";var n=t.getAttribute(e);return null==n?"":n},find:function(t,e,n){var r=null,l=null==n?ref.root:n;return ref.traverse(l,function(n){if(null!=r)return!1;if(null!=n.getAttribute){var l=n.getAttribute(t);if(null!=l&&""!=l)return null==e?(r=n,!1):""==e?(r=n,!1):l==e?(r=n,!1):void 0}}),r},onmutation:function(t){if(ref.enabled){ref.mutations=t;for(var e=0;e<ref.mutations.length;e++){var n=ref.mutations[e].target;ref.model.onevent("update",n)}ref.controller.dispatch("update",document.body)}},traverse:function(t,e){var n=null;if(n=e(t),0!=n)for(var r=t.children,l=0;l<r.length;l++)ref.traverse(r[l],e)},request:{create:function(t,e,n,r,l){var o=null==l?"get":l,u=null==r?!1:r,i=new XMLHttpRequest;return null!=i.overrideMimeType&&i.overrideMimeType(u?"application/octet-stream":"text/plain"),i.onprogress=function(t){var n=.9999*(t.total<=0?0:t.loaded/(t.total+5));null!=e&&e(null,n,i)},i.upload.onprogress=function(t){if(null!=n){var r=.9999*(t.total<=0?0:t.loaded/(t.total+5));null!=e&&e(null,-(1-r),i)}},i.onload=function(){null!=e&&e(i.response,1,i)},i.onerror=function(t){null!=e&&e(null,1,i,t)},i.open(o,t,!0),null!=n?i.send(n):i.send(),i},get:function(t,e,n,r){var l=this,o=n;if(null!=o){var u="?",i=[];for(var a in o)i.push(a+"="+o[a]);for(var f=0;f<i.length;f++)u+=i[f],f<i.length-1&&(u+="&");t+=u}return l.create(t,e,null,r,"get")},post:function(t,e,n,r){return ref.create(t,e,n,r,"post")}}};