var Front={ref:null,model:{is:function(t,e){var n=Front,r=this;return"string"==typeof t?null!=r.get(t):e?null!=r.context(t):""!=n.attribute(t,"model")},context:function(t){var e=Front,n=this,r=t;for("string"==typeof t&&(r=n.get(t));null!=r;){var l=e.attribute(r,"model");if(""!=l)return r;r=r.parentNode}return null},watch:function(t,e){var n=Front,r=n.find("model",t);null!=r&&(r.watch=null==e?!0:e)},get:function(t){var e=Front;return e.find("model",t)},data:function(t,e){var n=Front,r=this;if(null!=e){var l=r.get(t);if(null==l)return;for(var o in e){var u=n.find("view",o,l);r.value(u,e[o])}return e}var i={};return n.traverse(n.root,function(e){var l=e.getAttribute("model");null!=l&&l==t&&n.traverse(e,function(t){if(t!=e){var n=t.getAttribute("view");if(null!=n){var l=t.nodeName.toLowerCase();if(null!=l&&"#text"!=l){var o=("input"==l?null==t.type?"":t.type.toLowerCase():"",r.value(t));i[n]=o}}}})}),i},value:function(t,e){var n=t,r=n.nodeName.toLowerCase();if(null==r)return e;if("#text"==r)return e;var l="input"==r?null==n.type?"":n.type.toLowerCase():"";switch(r){case"input":switch(l){case"checkbox":return null==e?n.checked:n.checked=e;default:return null==e?n.value:n.value=e}break;case"select":return null==e?n.selectedIndex:n.selectedIndex=e;default:return null==e?n.textContent:n.textContent=e}return e},onevent:function(t,e){for(var n=Front,r=this,l=e;null!=l;){var o=n.attribute(l,"model");if(""!=o&&null!=o&&null!=l.watch&&l.watch){var u=r.data(o);n.controller.dispatch("model",l,u)}l=l.parentNode}}},controller:{list:[],add:function(t,e){var n=this,r=t;n.list.indexOf(r)<0&&n.list.push(r),r.route=null==e?/(.*?)/:e,null==r.allow&&(r.allow=""),""==r.allow&&(r.allow="click,change,input,model")},remove:function(t){var e=this,n=t,r=e.list.indexOf(n);r>=0&&e.list.splice(r,1)},exists:function(t){var e=this;return null!=e.find(t)},find:function(t){for(var e=this,n=0;n<e.list.length;n++)if(null!=e.list[n].name&&e.list[n].name==t)return e.list[n];return null},dispatch:function(t,e,n){for(var r=Front,l=this,o=r.view.path(e,!0),u=0;u<l.list.length;u++){var i=l.list[u];if(null!=i.on){if(null!=i.allow&&""!=i.allow&&i.allow.indexOf(t)<0)continue;if(""!=o&&!i.route.test(o))continue;i.on(o,t,e,n)}}"input,change,update".indexOf(t)>=0&&r.traverse(r.root,function(t){var e=r.attribute(t,"bind");if(""!=e){var n=e.split("."),l=n.pop(),o=n.join(".");if(r.model.is(o)){var u=r.model.data(o);null!=u[l]&&r.model.value(t,u[l])}}})},clear:function(){var t=this;t.list=[]}},view:{is:function(t,e){var n=Front,r=this;return"string"==typeof t?null!=r.get(t):e?null!=r.context(t):""!=n.attribute(t,"view")},context:function(t){for(var e=Front,n=t;null!=n;){var r=e.attribute(n,"view");if(""!=r)return n;n=n.parentNode}return null},path:function(t,e){var n=[],r="",l=null==e?!1:e,o=t;if(r=null!=o.getAttribute?o.getAttribute("view"):"",!l){if(null==r)return"";if(""==r)return""}for(null!=r&&""!=r&&n.push(r),o=o.parentNode;null!=o;)r=null!=o.getAttribute?o.getAttribute("view"):"",null!=r&&""!=r&&n.push(r),o=o.parentNode;return n.reverse(),n.join(".")},get:function(t){if(null==t)return null;var e=Front,n=t.split(".");if(n.length<=0)return null;n.reverse();var r=null;return e.traverse(e.root,function(t){if(n.length<=0)return!1;var l=e.attribute(t,"view");if(""!=l)return l==n[n.length-1]&&n.pop(),n.length<=0?(r=t,!1):void 0}),r}},observer:null,mutations:[],events:["click","input","change"],root:null,enabled:!0,onload:function(){window.removeEventListener("load",ref.onload),null==ref.root&&(ref.root=document.body),console.log("FrontJS> Initialize ["+ref.root+"]");var t={attributes:!0,childList:!0,characterData:!0,subtree:!0};ref.observer.observe(ref.root,t);for(var e=0;e<ref.events.length;e++)ref.listen(ref.events[e],!0)},listen:function(t,e){var n=e?document.body.addEventListener:document.body.removeEventListener,r="focus,blur".indexOf(t)>=0&&e;r&&n(t,ref.onevent,!0),n(t,ref.onevent)},onevent:function(t){if(ref.enabled){var e=t.target,n=t.type;switch(n){case"change":case"input":ref.model.onevent(n,e)}ref.controller.dispatch(n,e)}},initialize:function(t,e){ref=this,ref.root=null==t?null!=document?document.body:null:t,null!=e&&(ref.events=e),null==MutationObserver?console.warn("FrontJS> MutationObserver class not found."):ref.observer=new MutationObserver(ref.onmutation),window.addEventListener("load",ref.onload)},attribute:function(t,e){if(null==t)return"";if(null==t.getAttribute)return"";var n=t.getAttribute(e);return null==n?"":n},find:function(t,e,n){var r=null,l=null==n?ref.root:n;return ref.traverse(l,function(n){if(null!=r)return!1;if(null!=n.getAttribute){var l=n.getAttribute(t);if(null!=l&&""!=l)return null==e?(r=n,!1):""==e?(r=n,!1):l==e?(r=n,!1):void 0}}),r},onmutation:function(t){if(ref.enabled){ref.mutations=t;for(var e=0;e<ref.mutations.length;e++){var n=ref.mutations[e].target;ref.model.onevent("update",n)}ref.controller.dispatch("update",document.body)}},traverse:function(t,e){var n=null;if(n=e(t),0!=n)for(var r=t.children,l=0;l<r.length;l++)ref.traverse(r[l],e)}};